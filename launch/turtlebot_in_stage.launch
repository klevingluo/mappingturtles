<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!-- 
  Turtlebot navigation simulation:
  - stage
  - map_server
  - move_base
  - static map
  - amcl
  - rviz view
 -->
<launch>
  <arg name="base"       default="$(optenv TURTLEBOT_BASE kobuki)"/>  <!-- create, rhoomba -->
  <arg name="stacks"     default="$(optenv TURTLEBOT_STACKS hexagons)"/>  <!-- circles, hexagons -->
  <arg name="3d_sensor"  default="$(optenv TURTLEBOT_3D_SENSOR kinect)"/>  <!-- kinect, asus_xtion_pro -->

  <!-- Name of the map to use (without path nor extension) and initial position -->
  <arg name="map_file"       default=" /home/kluo/robotics/src/mappingturtles/maps/maze.yaml"/> <!-- robopark_plan -->
  <arg name="world_file"     default=" /home/kluo/robotics/src/mappingturtles/maps/stage/maze.world"/>

  <!-- BEGIN ROBOT 1-->
  <group ns="robot0">
    <param name="tf_prefix" value="robot1_tf" />
    <include file="$(find mappingturtles)/launch/turtlebot_sim.launch" >
      <arg name="init_pose" value="-x 1 -y 1 -z 0" />
      <arg name="robot_name"  value="Robot0" />
    </include>
  </group>

  <group ns="robot1">
    <param name="tf_prefix" value="robot1_tf" />
    <include file="$(find mappingturtles)/launch/turtlebot_sim.launch" >
      <arg name="init_pose" value="-x 2 -y 2 -z 0" />
      <arg name="robot_name"  value="Robot1" />
    </include>
  </group>

  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find turtlebot_stage)/rviz/robot_navigation.rviz"/>
</launch>
